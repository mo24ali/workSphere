<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <title>Document</title>
</head>

<body class="container mx-auto justify-center bg-black/20">
    <header class="bg-gray-800 text-white p-4 shadow-md">
        <div class="container mx-auto flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0">
            <div id="logo" class="text-xl font-bold">diOffice</div>

        </div>
    </header>

    <main class="flex flex-col lg:flex-row gap-4 mt-4 lg:mt-10 px-4 lg:px-0 lg:space-x-10">
        <div class="order-2 lg:order-1 w-full lg:w-80 bg-white rounded-lg shadow-md p-4">
            <h2 class="text-center font-bold mb-1 ui-sans-serif">List of unassigned workers</h2>
            <button id="add-employee-btn"
                class="w-full rounded-lg bg-blue-500 px-4 py-3 text-white font-medium hover:bg-blue-600 transition duration-300 mb-4">
                Add New Worker
            </button>

            <div id="filters" class="flex gap-4">

                <div id="search-bar" class=" flex w-full sm:w-64 border rounded justify-center items-center gap-4">
                    <input type="text" placeholder="Search employees..." id="searchInput"
                        class="w-full px-4 py-2 rounded-lg text-gray-800 bg-white">
                </div>
                <select name="selectFilter" id="jobsFilter" class="pl-6 border rounded w-20">
                    <!-- <option value="All">All</option> -->
                    <option value="security">Security </option>
                    <option value="receptionist">Receptionist</option>
                    <option value="technician">IT </option>
                    <option value="cleaning">Cleaning</option>
                    <option value="manager">Manager</option>
                    <option value="other">Other</option>
                </select>
            </div>
            <div class="scrollable-sidebar">
                <ul id="employee-list" class="space-y-3 overflow-auto max-h-96">
                    <!-- filled dynamically in JS -->
                </ul>
            </div>
        </div>

        <div class="order-1 lg:order-2 flex-1 min-w-0">
            <div id="workspace"
                class="w-[95%] mx-auto mt-5 h-[23vh] gap-1 grid grid-cols-45 grid-rows-18 2xs:h-[27vh] 2xs:py-1 xs:h-[31vh] xs:py-2 sm:w-[90%] sm:h-[50vh] md:w-[75%] md:h-[52vh] lg:w-[70%] lg:h-[55vh] lg:mt-0 xl:w-[85%] xl:h-[76vh] bg-[url('assets/workspace_area.jpg')] bg-cover bg-center bg-no-repeat xl:py-4 xl:px-2">

                <div id="conference-room"
                    class="col-start-1 col-end-[17] row-start-1 row-end-8 flex flex-col justify-center items-center dragging-area">
                    <div id="people-conference-room"></div>
                    <button id="listInConferenceRoom"
                        class="rounded-full w-7 h-7 bg-blue-500/20 hover:bg-blue-700 hover:text-white"
                        title="See who is allowed in this room" onclick="fillEmployeesToAddLIst('conference-room')">
                        <i class="fa-solid fa-add"></i>
                    </button>
                </div>

                <div id="servers"
                    class="col-start-[26] col-end-[36] row-start-1 row-end-7 flex flex-col justify-center items-center dragging-area">
                    <div id="people-servers"></div>
                    <button id="listInServersRoom"
                        class="rounded-full w-7 h-7 bg-blue-500/20 hover:bg-blue-700 hover:text-white"
                        title="See who is allowed in this room" onclick="fillEmployeesToAddLIst('servers')">
                        <i class="fa-solid fa-add"></i>
                    </button>
                </div>

                <div id="security-room"
                    class="col-start-[36] col-end-[46] row-start-1 row-end-7 flex flex-col justify-center items-center dragging-area">
                    <div id="people-security-room"></div>
                    <button id="listInSecurityRoom"
                        class="rounded-full w-7 h-7 bg-blue-500/20 hover:bg-blue-700 hover:text-white"
                        title="See who is allowed in this room" onclick="fillEmployeesToAddLIst('security-room')">
                        <i class="fa-solid fa-add"></i>
                    </button>
                </div>

                <div id="reception-room"
                    class="col-start-1 col-end-[17] row-start-8 row-end-[19] flex flex-col justify-center items-center dragging-area">
                    <div id="people-reception-room"></div>
                    <button id="listInReceptionRoom"
                        class="rounded-full w-7 h-7 bg-blue-500/20 hover:bg-blue-700 hover:text-white"
                        title="See who is allowed in this room" onclick="fillEmployeesToAddLIst('reception-room')">
                        <i class="fa-solid fa-add"></i>
                    </button>
                </div>

                <div id="staff-room"
                    class="col-start-[26] col-end-[37] row-start-11 row-end-[19] flex flex-col justify-center items-center dragging-area">
                    <div id="people-staff-room"></div>
                    <button id="listInStaffnRoom"
                        class="rounded-full w-7 h-7 bg-blue-500/20 hover:bg-blue-700 hover:text-white"
                        title="See who is allowed in this room" onclick="fillEmployeesToAddLIst('staff-room')">
                        <i class="fa-solid fa-add"></i>
                    </button>
                </div>

                <div id="archive"
                    class="col-start-[37] col-end-[46] row-start-11 row-end-[19] flex flex-col justify-center items-center dragging-area">
                    <div id="people-archive"></div>
                    <button id="listInArchiveRoom"
                        class="rounded-full w-7 h-7 bg-blue-500/20 hover:bg-blue-700 hover:text-white"
                        title="See who is allowed in this room" onclick="fillEmployeesToAddLIst('archive')">
                        <i class="fa-solid fa-add"></i>
                    </button>
                </div>

            </div>

        </div>
    </main>

    <div id="add-employee-form"
        class="fixed inset-0 bg-black/40 backdrop-blur-sm flex justify-center items-center z-50 hidden overflow-scroll">
        <form id="form" class="flex flex-col w-full max-w-md bg-white rounded-xl p-6 border shadow-xl mx-4 mt-auto">
            <div class="overflow-y-auto flex-1 space-y-4 pr-2">
                <div id="form-header" class="flex justify-between items-center mb-6">
                    <h2 id="title" class="text-xl font-semibold">Add Employee</h2>
                    <button id="closeForm" type="button"
                        class="border rounded-full hover:bg-red-500 hover:text-white w-7 h-7 flex justify-center items-center transition">
                        X
                    </button>
                </div>
                <div class="space-y-4">
                    <div id="profil-pic-div" class="flex flex-col justify-center items-center">
                        <label for="pic" class="block mb-1">Photo de profil :</label>
                        <label for="profilePictureInput">Profile Picture URL :</label>
                        <input type="url" id="profilePictureInput" placeholder="path-pic-jpg"
                            class="border p-2 mb-2 rounded">
                        <img id="profilePreview" class="w-28 h-28 rounded-full object-cover hidden border mb-3"
                            alt="preview">

                    </div>
                    <div>
                        <label for="nom" class="block mb-1">Nom :</label>
                        <input type="text" id="nom" placeholder="Nom" class="w-full border p-2 rounded" required>
                    </div>

                    <div>
                        <label for="pnom" class="block mb-1">Prenom :</label>
                        <input type="text" id="pnom" placeholder="Prenom" class="w-full border p-2 rounded" required>
                    </div>
                    <div>
                        <label for="mail" class="block mb-1">Email :</label>
                        <input type="email" id="mail" placeholder="Email" class="w-full border p-2 rounded" required>
                    </div>
                    <div>
                        <input type="text" id="phoneInput" placeholder="Phone number" class="border p-2 rounded mt-2">
                        <p id="phoneError" class="text-red-500 text-sm hidden">Invalid phone number</p>
                    </div>

                    <div>
                        <label for="positionsSelector" class="block mb-1">Poste :</label>
                        <select id="positionsSelector" class="w-full border p-2 rounded">
                            <option value="">Position</option>
                            <option value="security">Security Agent</option>
                            <option value="receptionist">Receptionist</option>
                            <option value="technician">IT guy</option>
                            <option value="cleaning">Cleaning</option>
                            <option value="manager">Manager</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div>
                        <label for="desc" class="block mb-1">Description</label>
                        <textarea name="description" id="desc" class="w-full border rounded p-2" rows="3"></textarea>
                    </div>

                    <div class="flex items-center justify-between">
                        <label for="experience" class="block">Experience :</label>
                        <button id="moreExperienceBtn" type="button"
                            class="bg-blue-500 rounded hover:bg-blue-600 text-white transform duration-300 p-2 w-8 h-8 flex items-center justify-center"
                            onclick="addDynamicField()">
                            +
                        </button>
                    </div>

                    <div id="divForDynamicSection">
                        <!-- need to make all the modal scrollable not only the experience section -->
                        <!-- Dynamic sections will be added here -->
                    </div>

                    <button id="formBtn" type="submit"
                        class="flex-1 rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600 transition w-full">
                        ADD
                    </button>
                </div>
            </div>
        </form>
    </div>

    <div id="addWorkerOnTheFloor" class="justify-center items-center">
        <ul></ul>
    </div>
    <!-- POPUPS -->
    <!-- Employee Details Popup -->
    <div id="employee-details-popup"
        class="fixed inset-0 bg-black/40 backdrop-blur-sm flex justify-center items-start sm:items-center p-2 sm:p-4 z-50 hidden">
        <div
            class="bg-white rounded-lg sm:rounded-xl p-4 sm:p-6 border shadow-lg sm:shadow-xl w-full max-w-xs xs:max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl max-h-[85vh] sm:max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-4 sm:mb-6">
                <h2 class="text-lg sm:text-xl font-semibold">Employee Details</h2>
                <button id="closeDetailsPopup" type="button"
                    class="border rounded-full hover:bg-red-500 hover:text-white w-6 h-6 sm:w-7 sm:h-7 flex justify-center items-center transition text-sm sm:text-base">
                    X
                </button>
            </div>
            <div id="employee-details-content" class="space-y-3 sm:space-y-4 text-sm sm:text-base">
                <!-- Content will be filled dynamically -->
            </div>
        </div>
    </div>

    <div id="add-employee-popup"
        class="fixed inset-0 bg-black/40 backdrop-blur-sm flex justify-center items-start p-1 xs:p-2 sm:p-4 z-40 hidden">
        <div
            class="bg-white rounded-lg sm:rounded-xl p-3 xs:p-4 sm:p-6 border shadow-lg sm:shadow-xl mx-1 xs:mx-2 sm:mx-4 w-full max-w-[95vw] xs:max-w-xs sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl max-h-[80vh] xs:max-h-[85vh] sm:max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-3 xs:mb-4 sm:mb-6">
                <h2 class="text-base xs:text-lg sm:text-xl font-semibold pr-2 xs:pr-0">Add Employee to the room</h2>
                <button id="closeAddEmployeePopup" type="button"
                    class="border rounded-full hover:bg-red-500 hover:text-white w-5 h-5 xs:w-6 xs:h-6 sm:w-7 sm:h-7 flex justify-center items-center transition text-xs xs:text-sm sm:text-base flex-shrink-0">
                    X
                </button>
            </div>
            <ul id="add-employee-content" class="space-y-1 xs:space-y-2 sm:space-y-3 text-xs xs:text-sm sm:text-base">
                <!-- Content will be filled dynamically -->
            </ul>
        </div>
    </div>

    <footer></footer>
    <script src="js/main.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</body>

</html>